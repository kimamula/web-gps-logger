{"version":3,"sources":["/home/kenji/src/web-gps-logger/gps-logger/gps-logger.ts"],"names":["Wgl","Wgl.GpsLogger","Wgl.GpsLogger.constructor","Wgl.GpsLogger.ready","Wgl.GpsLogger.logGps","Wgl.GpsLogger.removeLastLog","Wgl.GpsLogger.clearAllLog","Wgl.GpsLogger.convertToDate"],"mappings":"AAGA,GAAO,MA6CN,WA5CAA,YACAA,IAAAA,GAAAA,WAAAC,QAAAA,KAGCC,KAAQA,cAAeA,EAqCxBD,MApCCA,GAAAA,UAAAA,MAAAA,WACCE,KAAKA,OAASA,SAAkCA,cAAcA,KAAKA,YAAcA,QAElFF,EAAAA,UAAAA,OAAAA,WAAAG,GAAAA,GAAAA,IACKA,MAAKA,eAGTA,KAAKA,cAAeA,EACpBA,UAAUA,YAAYA,mBACrBA,SAACA,GACAA,GAAIA,IACHA,MAAQA,GAAIA,OAAOA,UACnBA,SAAYA,EAASA,OAAOA,SAC5BA,UAAaA,EAASA,OAAOA,UAE9BA,GAAKA,OAAOA,KAAKA,GACjBA,EAAKA,cAAeA,GAErBA,WACCA,MAAMA,0BACNA,EAAKA,cAAeA,MAIvBH,EAAAA,UAAAA,cAAAA,WACKI,KAAKA,cAGTA,KAAKA,OAAOA,OAEbJ,EAAAA,UAAAA,YAAAA,WACCK,KAAKA,OAAOA,OAASA,GAEtBL,EAAAA,UAAAA,cAAAA,SAAcA,GACbM,MAAOA,IAAIA,MAAKA,IAElBN,IAEAD,SAAQA,aAAcA,EAAUA,YAChCA,MAAAA","file":"gps-logger/gps-logger.js","sourcesContent":["///<reference path='../gps-log/gps-log.ts'/>\r\n///<reference path='../../../../typings/tsd.d.ts'/>\r\n\r\nmodule Wgl {\r\n\t'use strict';\r\n\tclass GpsLogger {\r\n\t\tgpsLog: GpsLogEntry[];\r\n\t\trepository: string;\r\n\t\tprivate isProcessing = false;\r\n\t\tready(): void {\r\n\t\t\tthis.gpsLog = (<GpsLogRepository>(<any>document.querySelector(this.repository))).gpsLog;\r\n\t\t}\r\n\t\tlogGps(): void {\r\n\t\t\tif (this.isProcessing) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isProcessing = true;\r\n\t\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\t\t(position: Position) => {\r\n\t\t\t\t\tvar gpsLog = {\r\n\t\t\t\t\t\t'time': new Date().getTime(),\r\n\t\t\t\t\t\t'latitude': position.coords.latitude,\r\n\t\t\t\t\t\t'longitude': position.coords.longitude\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.gpsLog.push(gpsLog);\r\n\t\t\t\t\tthis.isProcessing = false;\r\n\t\t\t\t},\r\n\t\t\t\t(error: PositionError) => {\r\n\t\t\t\t\talert('Failed to get GPS data');\r\n\t\t\t\t\tthis.isProcessing = false;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tremoveLastLog(): void {\r\n\t\t\tif (this.isProcessing) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.gpsLog.pop();\r\n\t\t}\r\n\t\tclearAllLog(): void {\r\n\t\t\tthis.gpsLog.length = 0;\r\n\t\t}\r\n\t\tconvertToDate(time: number): Date {\r\n\t\t\treturn new Date(time);\r\n\t\t}\r\n\t}\r\n\r\n\tPolymer('gps-logger', GpsLogger.prototype);\r\n}\r\n"],"sourceRoot":"/source/"}